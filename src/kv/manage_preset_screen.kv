#:kivy 2.1.0

<ManagePresetScreen>:
    btn_dropdown: btn_dropdown.__self__
    dropdown: dropdown.__self__

    BoxLayout:
        orientation: 'vertical'
        size_hint_y: 0.15
        pos_hint: {'top': 1}

        Label:
            text: "[b][color=ffdc33]Edit preset[/color][/b]"
            text_size: self.size
            markup: True
            font_size: '24sp'
            halign: 'center'
            valign: 'center'
            size_hint_y: 0.3

        BoxLayout:
            orientation: 'horizontal'
            spacing: 20
            size_hint: [0.67, 0.4]
            Label:
                text: "[b][color=19ff19]Name:[/color][/b]"
                text_size: self.size
                markup: True
                font_size: '20sp'
                halign: 'right'
                valign: 'center'
                size_hint_x: 0.4
            Button:
                id: btn_dropdown
                font_size: '20sp'
                size_hint_x: 0.6
                on_release: dropdown.open(self)
            DropDown:
                id: dropdown
                on_select: root.on_select(*args[1:])

    BoxLayout:
        orientation: 'vertical'
        size_hint_y: 0.55
        pos_hint: {'top': 0.85}

        BoxLayout:
            orientation: 'horizontal'
            spacing: 20
            size_hint: [0.67, 0.08]
            Label:
                text: "[b][color=19ff19]New name:[/color][/b]"
                text_size: self.size
                markup: True
                font_size: '20sp'
                halign: 'right'
                valign: 'center'
                size_hint_x: 0.4
            TextInput:
                id: name_input
                text: ''
                multiline: False
                valign: 'center'
                font_size: '20sp'
                size_hint_x: 0.6

        Label:
            text: "[u][b][color=ffdc33]App categories[/color][/b][/u]"
            text_size: self.size
            markup: True
            font_size: '20sp'
            halign: 'center'
            valign: 'center'
            size_hint: [0.5, 0.1]

        GridLayout:
            cols: 2
            spacing: 10
            size_hint: [0.3, 0.3]

            Label:
                text: "[b][color=19ff19]Messengers[/color][/b]"
                markup: True
                text_size: self.size
                font_size: '16sp'
                halign: 'right'
                valign: 'center'
                size_hint_x: 0.85
            CheckBox:
                id: cb_messenger
                size_hint_x: 0.15

            Label:
                text: "[b][color=19ff19]Games[/color][/b]"
                text_size: self.size
                markup: True
                font_size: '16sp'
                halign: 'right'
                valign: 'center'
                size_hint_x: 0.85
            CheckBox:
                id: cb_game
                size_hint_x: 0.15

            Label:
                text: "[b][color=19ff19]Video apps[/color][/b]"
                text_size: self.size
                markup: True
                font_size: '16sp'
                halign: 'right'
                valign: 'center'
                size_hint_x: 0.85
            CheckBox:
                id: cb_video
                size_hint_x: 0.15

            Label:
                text: "[b][color=19ff19]Music apps[/color][/b]"
                text_size: self.size
                markup: True
                font_size: '16sp'
                halign: 'right'
                valign: 'center'
                size_hint_x: 0.85
            CheckBox:
                id: cb_music
                size_hint_x: 0.15

            Label:
                text: "[b][color=19ff19]Study apps[/color][/b]"
                text_size: self.size
                markup: True
                font_size: '16sp'
                halign: 'right'
                valign: 'center'
                size_hint_x: 0.85
            CheckBox:
                id: cb_study
                size_hint_x: 0.15

        BoxLayout:
            orientation: 'horizontal'
            size_hint: [0.3, 0.2]
            padding_top: 50
            Label:
                text: "[b][color=ffdc33]Enable autodetector[/color][/b]"
                text_size: self.size
                markup: True
                font_size: '20sp'
                halign: 'right'
                valign: 'center'
                size_hint_x: 0.85
            CheckBox:
                id: cb_autodetect
                active: True
                size_hint_x: 0.15

    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        size_hint: [0.3, 0.3]
        Button:
            text: 'save'
            on_press: root.on_save()
        Button:
            text: 'delete'
            on_press: root.on_delete()
        Button:
            text: 'back'
            on_press: root.manager.current = 'main'
